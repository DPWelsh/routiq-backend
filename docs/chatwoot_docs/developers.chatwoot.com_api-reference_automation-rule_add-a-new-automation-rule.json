{
  "markdown": "[Chatwoot Developer Docs home page![light logo](https://mintlify.s3.us-west-1.amazonaws.com/chatwoot-447c5a93/logo/light.png)![dark logo](https://mintlify.s3.us-west-1.amazonaws.com/chatwoot-447c5a93/logo/dark.png)](https://developers.chatwoot.com/)\n\nSearch...\n\nCtrl K\n\nSearch...\n\nNavigation\n\nAutomation Rule\n\nAdd a new automation rule\n\nPOST\n\n/\n\napi\n\n/\n\nv1\n\n/\n\naccounts\n\n/\n\n{account\\_id}\n\n/\n\nautomation\\_rules\n\nTry it\n\ncURL\n\nPython\n\nJavaScript\n\nPHP\n\nGo\n\nJava\n\nCopy\n\n```\ncurl --request POST \\\n  --url https://app.chatwoot.com/api/v1/accounts/{account_id}/automation_rules \\\n  --header 'Content-Type: application/json' \\\n  --header 'api_access_token: <api-key>' \\\n  --data '{\n  \"name\": \"Add label on message create event\",\n  \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\n  \"event_name\": \"message_created\",\n  \"active\": true,\n  \"actions\": [\\\n    {\\\n      \"action_name\": \"add_label\",\\\n      \"action_params\": [\\\n        \"support\"\\\n      ]\\\n    }\\\n  ],\n  \"conditions\": [\\\n    {\\\n      \"attribute_key\": \"content\",\\\n      \"filter_operator\": \"contains\",\\\n      \"query_operator\": \"OR\",\\\n      \"values\": [\\\n        \"help\"\\\n      ]\\\n    }\\\n  ]\n}'\n```\n\n200\n\n403\n\nCopy\n\n```\n{\n  \"payload\": [\\\n    {\\\n      \"id\": 123,\\\n      \"account_id\": 123,\\\n      \"name\": \"Add label on message create event\",\\\n      \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\\\n      \"event_name\": \"message_created\",\\\n      \"conditions\": [\\\n        {\\\n          \"attribute_key\": \"content\",\\\n          \"filter_operator\": \"contains\",\\\n          \"values\": [\\\n            \"help\"\\\n          ],\\\n          \"query_operator\": \"and\"\\\n        }\\\n      ],\\\n      \"actions\": [\\\n        {\\\n          \"action_name\": \"add_label\",\\\n          \"action_params\": [\\\n            \"support\",\\\n            \"sales\"\\\n          ]\\\n        }\\\n      ],\\\n      \"created_on\": 123,\\\n      \"active\": true\\\n    }\\\n  ]\n}\n```\n\n#### Authorizations\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#authorization-api-access-token)\n\napi\\_access\\_token\n\nstring\n\nheader\n\nrequired\n\nThis token can be obtained by visiting the profile page or via rails console. Provides access to endpoints based on the user permissions levels. This token can be saved by an external system when user is created via API, to perform activities on behalf of the user.\n\n#### Path Parameters\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#parameter-account-id)\n\naccount\\_id\n\ninteger\n\nrequired\n\nThe numeric ID of the account\n\n#### Body\n\napplication/json\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-name)\n\nname\n\nstring\n\nRule name\n\nExample:\n\n`\"Add label on message create event\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-description)\n\ndescription\n\nstring\n\nThe description about the automation and actions\n\nExample:\n\n`\"Add label support and sales on message create event if incoming message content contains text help\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-event-name)\n\nevent\\_name\n\nenum<string>\n\nThe event when you want to execute the automation actions\n\nAvailable options:\n\n`conversation_created`,\n\n`conversation_updated`,\n\n`message_created`\n\nExample:\n\n`\"message_created\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-active)\n\nactive\n\nboolean\n\nEnable/disable automation rule\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-actions)\n\nactions\n\nobject\\[\\]\n\nArray of actions which you want to perform when condition matches, e.g add label support if message contains content help.\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#body-conditions)\n\nconditions\n\nobject\\[\\]\n\nArray of conditions on which conversation filter would work, e.g message content contains text help.\n\n#### Response\n\n200\n\n200403\n\napplication/json\n\nSuccess\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-payload)\n\npayload\n\nobject\\[\\]object\n\nResponse payload that contains automation rule(s)\nArray of automation rules (for listing endpoint)\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-id)\n\nid\n\ninteger\n\nThe ID of the automation rule\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-account-id)\n\naccount\\_id\n\ninteger\n\nAccount Id\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-name)\n\nname\n\nstring\n\nThe name of the rule\n\nExample:\n\n`\"Add label on message create event\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-description)\n\ndescription\n\nstring\n\nDescription to give more context about the rule\n\nExample:\n\n`\"Add label support and sales on message create event if incoming message content contains text help\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-event-name)\n\nevent\\_name\n\nenum<string>\n\nAutomation Rule event, on which we call the actions(conversation\\_created, conversation\\_updated, message\\_created)\n\nAvailable options:\n\n`conversation_created`,\n\n`conversation_updated`,\n\n`message_created`\n\nExample:\n\n`\"message_created\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-conditions)\n\nconditions\n\nobject\\[\\]\n\nArray of conditions on which conversation/message filter would work\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-values)\n\nvalues\n\nstring\\[\\]\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-attribute-key)\n\nattribute\\_key\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-query-operator)\n\nquery\\_operator\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-filter-operator)\n\nfilter\\_operator\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-actions)\n\nactions\n\nobject\\[\\]\n\nArray of actions which we perform when condition matches\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-action-name)\n\naction\\_name\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-action-params)\n\naction\\_params\n\nstring\\[\\]\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-created-on)\n\ncreated\\_on\n\ninteger\n\nThe timestamp when the rule was created\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule#response-active)\n\nactive\n\nboolean\n\nEnable/disable automation rule\n\n[Previous](https://developers.chatwoot.com/api-reference/automation-rule/list-all-automation-rules-in-an-account) [Get a automation rule detailsGet the details of a automation rule in the account\\\\\n\\\\\nNext](https://developers.chatwoot.com/api-reference/automation-rule/get-a-automation-rule-details)\n\ncURL\n\nPython\n\nJavaScript\n\nPHP\n\nGo\n\nJava\n\nCopy\n\n```\ncurl --request POST \\\n  --url https://app.chatwoot.com/api/v1/accounts/{account_id}/automation_rules \\\n  --header 'Content-Type: application/json' \\\n  --header 'api_access_token: <api-key>' \\\n  --data '{\n  \"name\": \"Add label on message create event\",\n  \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\n  \"event_name\": \"message_created\",\n  \"active\": true,\n  \"actions\": [\\\n    {\\\n      \"action_name\": \"add_label\",\\\n      \"action_params\": [\\\n        \"support\"\\\n      ]\\\n    }\\\n  ],\n  \"conditions\": [\\\n    {\\\n      \"attribute_key\": \"content\",\\\n      \"filter_operator\": \"contains\",\\\n      \"query_operator\": \"OR\",\\\n      \"values\": [\\\n        \"help\"\\\n      ]\\\n    }\\\n  ]\n}'\n```\n\n200\n\n403\n\nCopy\n\n```\n{\n  \"payload\": [\\\n    {\\\n      \"id\": 123,\\\n      \"account_id\": 123,\\\n      \"name\": \"Add label on message create event\",\\\n      \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\\\n      \"event_name\": \"message_created\",\\\n      \"conditions\": [\\\n        {\\\n          \"attribute_key\": \"content\",\\\n          \"filter_operator\": \"contains\",\\\n          \"values\": [\\\n            \"help\"\\\n          ],\\\n          \"query_operator\": \"and\"\\\n        }\\\n      ],\\\n      \"actions\": [\\\n        {\\\n          \"action_name\": \"add_label\",\\\n          \"action_params\": [\\\n            \"support\",\\\n            \"sales\"\\\n          ]\\\n        }\\\n      ],\\\n      \"created_on\": 123,\\\n      \"active\": true\\\n    }\\\n  ]\n}\n```\n\nAssistant\n\nResponses are generated using AI and may contain mistakes.",
  "metadata": {
    "msapplication-config": "https://mintlify.s3-us-west-1.amazonaws.com/chatwoot-447c5a93/_generated/favicon/browserconfig.xml?v=3",
    "application-name": "Chatwoot Developer Docs",
    "og:description": "Add a new automation rule to account",
    "twitter:image:width": "1200",
    "twitter:image:height": "630",
    "next-head-count": "30",
    "description": "Add a new automation rule to account",
    "twitter:image": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%26description%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%2Bto%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "og:title": "Add a new automation rule - Chatwoot Developer Docs",
    "apple-mobile-web-app-title": "Chatwoot Developer Docs",
    "og:image:height": "630",
    "generator": "Mintlify",
    "og:url": "https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule",
    "theme-color": "#ffffff",
    "msapplication-TileColor": "#0069ED",
    "twitter:title": "Add a new automation rule - Chatwoot Developer Docs",
    "og:type": "website",
    "ogImage": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%26description%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%2Bto%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "charset": "utf-8",
    "favicon": "https://mintlify.s3-us-west-1.amazonaws.com/chatwoot-447c5a93/_generated/favicon/favicon-32x32.png?v=3",
    "language": "en",
    "viewport": "width=device-width",
    "twitter:card": "summary_large_image",
    "og:site_name": "Chatwoot Developer Docs",
    "og:image:width": "1200",
    "og:image": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%26description%3DAdd%2Ba%2Bnew%2Bautomation%2Brule%2Bto%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "title": "Add a new automation rule - Chatwoot Developer Docs",
    "scrapeId": "0b4f01f7-fec0-4d88-9dfa-b9f61252e5a5",
    "sourceURL": "https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule",
    "url": "https://developers.chatwoot.com/api-reference/automation-rule/add-a-new-automation-rule",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic"
  }
}