{
  "markdown": "[Chatwoot Developer Docs home page![light logo](https://mintlify.s3.us-west-1.amazonaws.com/chatwoot-447c5a93/logo/light.png)![dark logo](https://mintlify.s3.us-west-1.amazonaws.com/chatwoot-447c5a93/logo/dark.png)](https://developers.chatwoot.com/)\n\nSearch...\n\nCtrl K\n\nSearch...\n\nNavigation\n\nAutomation Rule\n\nUpdate automation rule in Account\n\nPATCH\n\n/\n\napi\n\n/\n\nv1\n\n/\n\naccounts\n\n/\n\n{account\\_id}\n\n/\n\nautomation\\_rules\n\n/\n\n{id}\n\nTry it\n\ncURL\n\nPython\n\nJavaScript\n\nPHP\n\nGo\n\nJava\n\nCopy\n\n```\ncurl --request PATCH \\\n  --url https://app.chatwoot.com/api/v1/accounts/{account_id}/automation_rules/{id} \\\n  --header 'Content-Type: application/json' \\\n  --header 'api_access_token: <api-key>' \\\n  --data '{\n  \"name\": \"Add label on message create event\",\n  \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\n  \"event_name\": \"message_created\",\n  \"active\": true,\n  \"actions\": [\\\n    {\\\n      \"action_name\": \"add_label\",\\\n      \"action_params\": [\\\n        \"support\"\\\n      ]\\\n    }\\\n  ],\n  \"conditions\": [\\\n    {\\\n      \"attribute_key\": \"content\",\\\n      \"filter_operator\": \"contains\",\\\n      \"query_operator\": \"OR\",\\\n      \"values\": [\\\n        \"help\"\\\n      ]\\\n    }\\\n  ]\n}'\n```\n\n200\n\n403\n\n404\n\nCopy\n\n```\n{\n  \"payload\": [\\\n    {\\\n      \"id\": 123,\\\n      \"account_id\": 123,\\\n      \"name\": \"Add label on message create event\",\\\n      \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\\\n      \"event_name\": \"message_created\",\\\n      \"conditions\": [\\\n        {\\\n          \"attribute_key\": \"content\",\\\n          \"filter_operator\": \"contains\",\\\n          \"values\": [\\\n            \"help\"\\\n          ],\\\n          \"query_operator\": \"and\"\\\n        }\\\n      ],\\\n      \"actions\": [\\\n        {\\\n          \"action_name\": \"add_label\",\\\n          \"action_params\": [\\\n            \"support\",\\\n            \"sales\"\\\n          ]\\\n        }\\\n      ],\\\n      \"created_on\": 123,\\\n      \"active\": true\\\n    }\\\n  ]\n}\n```\n\n#### Authorizations\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#authorization-api-access-token)\n\napi\\_access\\_token\n\nstring\n\nheader\n\nrequired\n\nThis token can be obtained by visiting the profile page or via rails console. Provides access to endpoints based on the user permissions levels. This token can be saved by an external system when user is created via API, to perform activities on behalf of the user.\n\n#### Path Parameters\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#parameter-account-id)\n\naccount\\_id\n\ninteger\n\nrequired\n\nThe numeric ID of the account\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#parameter-id)\n\nid\n\ninteger\n\nrequired\n\nThe ID of the automation rule to be updated.\n\n#### Body\n\napplication/json\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-name)\n\nname\n\nstring\n\nRule name\n\nExample:\n\n`\"Add label on message create event\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-description)\n\ndescription\n\nstring\n\nThe description about the automation and actions\n\nExample:\n\n`\"Add label support and sales on message create event if incoming message content contains text help\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-event-name)\n\nevent\\_name\n\nenum<string>\n\nThe event when you want to execute the automation actions\n\nAvailable options:\n\n`conversation_created`,\n\n`conversation_updated`,\n\n`message_created`\n\nExample:\n\n`\"message_created\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-active)\n\nactive\n\nboolean\n\nEnable/disable automation rule\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-actions)\n\nactions\n\nobject\\[\\]\n\nArray of actions which you want to perform when condition matches, e.g add label support if message contains content help.\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#body-conditions)\n\nconditions\n\nobject\\[\\]\n\nArray of conditions on which conversation filter would work, e.g message content contains text help.\n\n#### Response\n\n200\n\n200403404\n\napplication/json\n\nSuccess\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-payload)\n\npayload\n\nobject\\[\\]object\n\nResponse payload that contains automation rule(s)\nArray of automation rules (for listing endpoint)\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-id)\n\nid\n\ninteger\n\nThe ID of the automation rule\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-account-id)\n\naccount\\_id\n\ninteger\n\nAccount Id\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-name)\n\nname\n\nstring\n\nThe name of the rule\n\nExample:\n\n`\"Add label on message create event\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-description)\n\ndescription\n\nstring\n\nDescription to give more context about the rule\n\nExample:\n\n`\"Add label support and sales on message create event if incoming message content contains text help\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-event-name)\n\nevent\\_name\n\nenum<string>\n\nAutomation Rule event, on which we call the actions(conversation\\_created, conversation\\_updated, message\\_created)\n\nAvailable options:\n\n`conversation_created`,\n\n`conversation_updated`,\n\n`message_created`\n\nExample:\n\n`\"message_created\"`\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-conditions)\n\nconditions\n\nobject\\[\\]\n\nArray of conditions on which conversation/message filter would work\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-values)\n\nvalues\n\nstring\\[\\]\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-attribute-key)\n\nattribute\\_key\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-query-operator)\n\nquery\\_operator\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-filter-operator)\n\nfilter\\_operator\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-actions)\n\nactions\n\nobject\\[\\]\n\nArray of actions which we perform when condition matches\n\nShow child attributes\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-action-name)\n\naction\\_name\n\nstring\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-action-params)\n\naction\\_params\n\nstring\\[\\]\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-created-on)\n\ncreated\\_on\n\ninteger\n\nThe timestamp when the rule was created\n\n[​](https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account#response-active)\n\nactive\n\nboolean\n\nEnable/disable automation rule\n\n[Previous](https://developers.chatwoot.com/api-reference/automation-rule/remove-a-automation-rule-from-account) [List all portals in an accountGet details of portals in an Account\\\\\n\\\\\nNext](https://developers.chatwoot.com/api-reference/help-center/list-all-portals-in-an-account)\n\ncURL\n\nPython\n\nJavaScript\n\nPHP\n\nGo\n\nJava\n\nCopy\n\n```\ncurl --request PATCH \\\n  --url https://app.chatwoot.com/api/v1/accounts/{account_id}/automation_rules/{id} \\\n  --header 'Content-Type: application/json' \\\n  --header 'api_access_token: <api-key>' \\\n  --data '{\n  \"name\": \"Add label on message create event\",\n  \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\n  \"event_name\": \"message_created\",\n  \"active\": true,\n  \"actions\": [\\\n    {\\\n      \"action_name\": \"add_label\",\\\n      \"action_params\": [\\\n        \"support\"\\\n      ]\\\n    }\\\n  ],\n  \"conditions\": [\\\n    {\\\n      \"attribute_key\": \"content\",\\\n      \"filter_operator\": \"contains\",\\\n      \"query_operator\": \"OR\",\\\n      \"values\": [\\\n        \"help\"\\\n      ]\\\n    }\\\n  ]\n}'\n```\n\n200\n\n403\n\n404\n\nCopy\n\n```\n{\n  \"payload\": [\\\n    {\\\n      \"id\": 123,\\\n      \"account_id\": 123,\\\n      \"name\": \"Add label on message create event\",\\\n      \"description\": \"Add label support and sales on message create event if incoming message content contains text help\",\\\n      \"event_name\": \"message_created\",\\\n      \"conditions\": [\\\n        {\\\n          \"attribute_key\": \"content\",\\\n          \"filter_operator\": \"contains\",\\\n          \"values\": [\\\n            \"help\"\\\n          ],\\\n          \"query_operator\": \"and\"\\\n        }\\\n      ],\\\n      \"actions\": [\\\n        {\\\n          \"action_name\": \"add_label\",\\\n          \"action_params\": [\\\n            \"support\",\\\n            \"sales\"\\\n          ]\\\n        }\\\n      ],\\\n      \"created_on\": 123,\\\n      \"active\": true\\\n    }\\\n  ]\n}\n```\n\nAssistant\n\nResponses are generated using AI and may contain mistakes.",
  "metadata": {
    "favicon": "https://mintlify.s3-us-west-1.amazonaws.com/chatwoot-447c5a93/_generated/favicon/favicon-32x32.png?v=3",
    "msapplication-config": "https://mintlify.s3-us-west-1.amazonaws.com/chatwoot-447c5a93/_generated/favicon/browserconfig.xml?v=3",
    "og:image:height": "630",
    "og:title": "Update automation rule in Account - Chatwoot Developer Docs",
    "viewport": "width=device-width",
    "charset": "utf-8",
    "application-name": "Chatwoot Developer Docs",
    "twitter:title": "Update automation rule in Account - Chatwoot Developer Docs",
    "msapplication-TileColor": "#0069ED",
    "og:site_name": "Chatwoot Developer Docs",
    "og:description": "Update a automation rule in account",
    "title": "Update automation rule in Account - Chatwoot Developer Docs",
    "og:url": "https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account",
    "theme-color": "#ffffff",
    "language": "en",
    "og:type": "website",
    "twitter:card": "summary_large_image",
    "og:image:width": "1200",
    "next-head-count": "30",
    "og:image": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DUpdate%2Bautomation%2Brule%2Bin%2BAccount%26description%3DUpdate%2Ba%2Bautomation%2Brule%2Bin%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "description": "Update a automation rule in account",
    "twitter:image": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DUpdate%2Bautomation%2Brule%2Bin%2BAccount%26description%3DUpdate%2Ba%2Bautomation%2Brule%2Bin%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "apple-mobile-web-app-title": "Chatwoot Developer Docs",
    "twitter:image:width": "1200",
    "twitter:image:height": "630",
    "generator": "Mintlify",
    "ogImage": "https://chatwoot-447c5a93.mintlify.app/mintlify-assets/_next/image?url=%2Fapi%2Fog%3Fdivision%3DDocumentation%26title%3DUpdate%2Bautomation%2Brule%2Bin%2BAccount%26description%3DUpdate%2Ba%2Bautomation%2Brule%2Bin%2Baccount%26logoLight%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Flight.png%26logoDark%3Dhttps%253A%252F%252Fmintlify.s3.us-west-1.amazonaws.com%252Fchatwoot-447c5a93%252Flogo%252Fdark.png%26primaryColor%3D%25230069ED%26lightColor%3D%25234D9CFF%26darkColor%3D%25230050B4&w=1200&q=100",
    "scrapeId": "190fc85e-639d-419a-a4e1-253cab86c7f7",
    "sourceURL": "https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account",
    "url": "https://developers.chatwoot.com/api-reference/automation-rule/update-automation-rule-in-account",
    "statusCode": 200,
    "contentType": "text/html; charset=utf-8",
    "proxyUsed": "basic"
  }
}